<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/afx/resource/css/?p=css/hljs.css" type="text/css"/>
    <link rel="stylesheet" href="/afx/resource/css/?p=css/treeview.css" type="text/css"/>
    <script src="/afx/resource/js/?p=js/jquery.js"></script>
    <script src="/afx/resource/js/?p=js/highlight.pack.js"></script>
    <script src="/afx/resource/js/?p=js/highlight-treeview.pack.js"></script>
    <title></title>
</head>
<body>
<pre><code class="treeview"></code></pre>
<script>

    hljs.addPlugin({
        'after:highlightElement': ({ el, result }) => {
            let view = document.querySelector(".treeview");
            let zoom = treeview.getZoom();
            let width = (view.offsetWidth * zoom) + 100;
            let height = (view.offsetHeight * zoom) + 100;
            treeview.setPrefSize(width, height);
            setTimeout(() => {
                alert("RENDERED");
            }, 500);
        }
    });

    function executeTree(tree) {
        var view = document.querySelector(".treeview");
        view.innerHTML = tree;
        var trees = document.querySelectorAll("pre code");
        [].slice.call(trees).forEach(function (item) {
            hljs.highlightBlock(item);
        });
    }

    (function () {
        alert("READY");
    })();


</script>
<!--<script src="/afx/resource/js/?p=js/firebug-import.js"></script>-->
</body>
</html>